<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MunyaoTech Lab</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>,
<!-- Top welcome banner -->
<div class="top-banner" id="topBanner">
  <span id="welcome-text">
    At MunyaoTech Lab, weâ€™re passionate about building smart solutions that solve real-world problems.
    Whether you're here to explore our projects, collaborate on cutting-edge tech, or stay inspiredâ€”you're in the right place.
  </span>
  <button class="close-banner" onclick="hideBanner()">Ã—</button>
</div>

<!-- Styles -->
<style>
  .top-banner {
  background-color: #001f3f;
  color: white;
  text-align: center;
  padding: 4px 35px 4px 8px;
  font-size: 12px;
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 999;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  line-height: 1.3;
  min-height: 30px;
}

#welcome-text {
  display: inline-block;
  animation: fadeLoop 8s ease-in-out infinite;
}

@keyframes fadeLoop {
  0%, 100% { opacity: 0; }
  20%, 80% { opacity: 1; }
}
<style>
  .top-banner {
    background-color: #001f3f;
    color: white;
    text-align: center;
    padding: 4px 35px 4px 8px;  /* Smaller top/bottom padding */
    font-size: 12px;           /* Smaller text */
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 999;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    line-height: 1.3;
    min-height: 30px;
  }

  #welcome-text {
    display: inline-block;
    animation: fadeLoop 8s ease-in-out infinite;
  }

  @keyframes fadeLoop {
    0%, 100% { opacity: 0; }
    20%, 80% { opacity: 1; }
  }

  .close-banner {
    position: absolute;
    top: 3px;
    right: 8px;
    background-color: #ff4136;
    color: white;
    border: none;
    font-size: 12px;
    font-weight: bold;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    text-align: center;
    line-height: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .close-banner:hover {
    background-color: #e60000;
  }

  /* Optional: prevent banner from overlapping content */
  body {
    padding-top: 36px;
  }
</style>


<!-- Script -->
<script>
  function hideBanner() {
    document.getElementById('topBanner').style.display = 'none';
  }
</script>


<p id="welcomeUser"></p>
<button id="signOutBtn">Sign Out</button>
<script type="module">
  import { auth } from "./js/firebase-config.js";
  import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

  const welcomeEl = document.getElementById("welcomeUser");
  const signOutBtn = document.getElementById("signOutBtn");

  onAuthStateChanged(auth, (user) => {
    if (user) {
      if (welcomeEl) {
        welcomeEl.textContent = `Welcome, ${user.email}`;
      }

      if (signOutBtn) {
        signOutBtn.addEventListener("click", () => {
          import("https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js").then(({ signOut }) => {
            signOut(auth).then(() => {
              alert("You have been signed out.");
              window.location.href = "login.html";
            }).catch((error) => {
              alert("Sign out failed: " + error.message);
            });
          });
        });
      }
    } else {
      // Not logged in, redirect
      window.location.href = "login.html";
    }
  });
</script>

    <!-- Corrected Header Section -->
<header style="background-color: #000; text-align: center; padding: 20px;">
  <img src="munyao-logo.jpeg" alt="MunyaoTech Lab Logo" class="logo" style="max-width: 150px; height: auto; display: block; margin: 0 auto;">
  <h1 style="color: white; margin-top: 10px;">MunyaoTech Lab</h1>
  <p style="color: white; margin-top: -10px;">Empowering Innovation</p>
</header>

<section class="hero">
  <h2>Welcome to MunyaoTech Lab</h2>
  <p>Innovating with tech and creativity â€” explore our projects, ideas, and more.</p>
  <a href="#projects" class="hero-button">Explore Projects</a>
</section>
<div class="footer-links">
    <a href="#home">Home</a> |
    <a href="#about">About</a> |
    <a href="#projects">Projects</a> |
    <a href="#contact">Contact</a>
  </div>
  <!-- âœ… REPLACE your existing posts container with this -->
<main class="max-w-6xl mx-auto px-6 py-10">
  <div id="posts" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
    <!-- Posts will load here -->
  </div>
</main>
<!-- âœ… ADD this at top of body if no header exists -->
<header class="bg-purple-600 shadow-lg">
  <div class="max-w-6xl mx-auto px-6 py-4">
    <h1 class="text-2xl font-bold text-white">ðŸ“° Latest Posts</h1>
  </div>
</header>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
  import { 
    getFirestore, collection, addDoc, serverTimestamp, query, orderBy, onSnapshot 
  } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";

  // âœ… Your Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyCraXq51qucrTWJlD7ZXjUodP92Aqxfh3c",
    authDomain: "munyaotech-lab.firebaseapp.com",
    projectId: "munyaotech-lab",
    storageBucket: "munyaotech-lab.firebasestorage.app",
    messagingSenderId: "654834051986",
    appId: "1:654834051986:web:076f2f5c10cae1291baf4b"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // âœ… FORM SUBMISSION â€“ Add post
  const form = document.getElementById("postForm");
  if (form) {
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      
      const title = document.getElementById("title").value;
      const content = document.getElementById("content").value;

      try {
        await addDoc(collection(db, "posts"), {
          title: title,
          content: content,
          timestamp: serverTimestamp()
        });

        // Clear form
        form.reset();
        alert("âœ… Post added successfully!");
      } catch (error) {
        console.error("Error adding post:", error);
        alert("âŒ Failed to post. Check console.");
      }
    });
  }

  // âœ… FETCH AND DISPLAY POSTS
  const postsDiv = document.getElementById("posts");
  const q = query(collection(db, "posts"), orderBy("timestamp", "desc"));

  onSnapshot(q, (snapshot) => {
    postsDiv.innerHTML = "";
    snapshot.forEach((doc) => {
      const post = doc.data();

      postsDiv.innerHTML += `
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all mb-4">
          <h2 class="text-xl font-semibold text-purple-600 mb-3">${post.title}</h2>
          <p class="text-gray-700 mb-4">${post.content}</p>
          <span class="text-sm text-gray-400">
            ðŸ“… ${post.timestamp?.toDate().toLocaleString() || "Just now"}
          </span>
        </div>
      `;
    });
  });
</script>

<section id="projects" class="projects">
  <h2>Our Projects</h2>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #0f0f1a;
      color: white;
      overflow: hidden;
    }
    #loading {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #0f0f1a;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    #spinner {
      border: 6px solid rgba(255, 255, 255, 0.1);
      border-left-color: #4caf50;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
    }
    #loading h2 {
      margin-top: 20px;
    }
    #welcome {
      display: none;
      text-align: center;
      font-size: 1.5em;
      margin: 20px 0;
      color: #4caf50;
      animation: fadeIn 2s ease-in;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .banner {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      padding: 60px 30px 30px;
      justify-items: center;
      background: linear-gradient(135deg, #1e1e2f, #292940);
    }
    .tile {
      background: #1a1a2e;
      border-radius: 20px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0, 255, 255, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }
    .tile:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #00ffe1;
      animation: pulse 1s infinite;
    }
    .tile img {
      width: 64px;
      height: 64px;
      animation: rotate 10s linear infinite;
    }
    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 10px #00ffe1;
      }
      50% {
        box-shadow: 0 0 20px #00ffe1;
      }
    }
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .tagline {
      font-size: 1.4em;
      text-align: center;
      padding-top: 10px;
      color: #00ffe1;
    }
    .tagline span::after {
      content: '|';
      animation: blink 1s infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
  </style>
</head>
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>
<script src="/firebase/firebase-admin-config.js"></script>

<script>
  const db = firebase.firestore();
  const homeContainer = document.getElementById("home-articles-container");

  db.collection("articles").orderBy("createdAt", "desc").limit(3).onSnapshot(snapshot => {
    homeContainer.innerHTML = ""; // clear existing articles

    snapshot.forEach(doc => {
      const article = doc.data();
      const div = document.createElement("div");
      div.className = "article-preview";
      div.innerHTML = `
        <h3>${article.title}</h3>
        ${article.imageUrl ? `<img src="${article.imageUrl}" style="max-width: 100%; border-radius: 5px;">` : ""}
        <p>${article.content.substring(0, 100)}...</p>
        <a href="/articles.html">Read more</a>
      `;
      homeContainer.appendChild(div);
    });
  });
</script>
<section class="max-w-3xl mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4 text-center">Latest Posts</h1>
  <div id="posts-container">
    <!-- Posts will load here dynamically -->
  </div>
</section>

<body>
  <div id="loading">
    <div id="spinner"></div>
    <h2>Loading MunyaoTech Lab...</h2>
    <audio autoplay loop>
      <source src="https://cdn.pixabay.com/download/audio/2022/10/30/audio_90fd617655.mp3?filename=relaxing-ambient-116198.mp3" type="audio/mpeg">
    </audio>
  </div>
  <div id="welcome">Welcome to MunyaoTech Lab ðŸš€</div>
  <div class="tagline"><span id="typing"></span></div>
  <div class="banner">
    <div class="tile" onclick="playSound()">
      <img src="https://img.icons8.com/fluency/96/chatbot.png" alt="EduChatbot">
      <p>EduChatbot</p>
    </div>
    <div class="tile" onclick="playSound()">
      <img src="https://img.icons8.com/fluency/96/line-chart.png" alt="Forex Platform">
      <p>Forex Trading Platform</p>
    </div>
    <div class="tile" onclick="playSound()">
      <img src="https://img.icons8.com/fluency/96/virtual-reality.png" alt="EduVerse AI">
      <p>EduVerse AI</p>
    </div>
    <div class="tile" onclick="playSound()">
      <img src="https://img.icons8.com/fluency/96/gps-device.png" alt="Lost Animal Tracker">
      <p>Lost Animal Tracker</p>
    </div>
    <div class="tile" onclick="playSound()">
      <img src="https://img.icons8.com/fluency/96/robot-2.png" alt="AI Robotics">
      <p>AI Robotics</p>
    </div>
  </div>

  <audio id="clickSound">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7061fcbd0b.mp3?filename=click-124467.mp3" type="audio/mpeg">
  </audio>

  <script>
    const text = "Innovating Through AI, Tech, and Creativity...";
    let i = 0;
    const typing = document.getElementById("typing");
    function typeWriter() {
      if (i < text.length) {
        typing.innerHTML += text.charAt(i);
        i++;
        setTimeout(typeWriter, 100);
      } else {
        setTimeout(() => {
          typing.innerHTML = "";
          i = 0;
          typeWriter();
        }, 2000);
      }
    }
    function playSound() {
      document.getElementById('clickSound').play();
    }
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById("loading").style.display = "none";
        document.getElementById("welcome").style.display = "block";
      }, 2000);
      typeWriter();
    });
  </script>
  <div class="project-list">
    <div class="project-card">
      <h3>EduChatbot</h3>
      <p>An AI-powered chatbot for answering academic questions and providing study help.</p>
    </div>
    <div class="project-card">
      <h3>Lost Animal Tracker</h3>
      <p>A smart community-based tool to help locate and reunite lost animals with their owners.</p>
    </div>
    <div class="project-card">
      <h3>Forex AI App</h3>
      <p>A full trading platform with live charts, AI signals, and real-time trade execution.</p>
    </div>
  </div>
</section>
<nav>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
    </header>
  <main>
    <section id="home">
      <h1>Welcome to MunyaoTech Lab</h1>
      <p>Empowering innovation through tech and creativity.</p>
    </section>

    <section id="about">
      <h2>About MunyaoTech Lab</h2>
      <p>MunyaoTech Lab is a hub of innovation and creativity where ideas are transformed into powerful tech solutions. We are committed to empowering Africa through technology, offering training, mentorship, and tech services to drive digital transformation in Africa and beyond.</p>
    </section>

    <section id="services">
      <h2>Our Services</h2>
      <ul>
        <li>Custom Website & App Development</li>
        <li>AI & Chatbot Solutions</li>
        <li>Tech Training & Mentorship Programs</li>
        <li>Digital Transformation Consultancy</li>
        <li>Cybersecurity Awareness & Tools</li>
        <li>Research & Academic Writing Support</li>
      </ul>
    </section>

    <section id="projects">
      <h2>Our Projects</h2>
      <p>Coming soon...</p>
    </section>

<section id="contact">
  <h2>Contact Us</h2>
  <p>We'd love to hear from you!</p>
  <ul>
    <li>Email: <a href="mailto:shadrackmunyao661@gmail.com">shadrackmunyao661@gmail.com</a></li>
    <li>Phone: +254 739577610</li>
    <li>Location: Nairobi, Kenya</li>
  </ul>
</section>
  </main>
  <footer>
  <p>&copy; 2025 MunyaoTech Lab. All rights reserved.</p>
  </footer>
<!-- Firebase SDKs -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // Your Firebase config (use the same one from admin panel)
  const firebaseConfig = {
    apiKey: "AIzaSyCraXq51qucrTWJlD7ZXjUodP92Aqxfh3c",
    authDomain: "munyaotech-lab.firebaseapp.com",
    projectId: "munyaotech-lab",
    storageBucket: "munyaotech-lab.appspot.com",
    messagingSenderId: "654834051986",
    appId: "1:654834051986:web:076f2f5c10cae1291baf4b"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Fetch posts
  async function loadPosts() {
    const querySnapshot = await getDocs(collection(db, "posts"));
    const postsContainer = document.getElementById("posts-container");

    postsContainer.innerHTML = ""; // Clear first
    querySnapshot.forEach((doc) => {
      const post = doc.data();

      // Create post card
      const postCard = `
        <div class="bg-white shadow-md rounded-lg p-4 mb-4">
          <h2 class="text-xl font-bold text-purple-700 mb-2">${post.title}</h2>
          <p class="text-gray-700">${post.content}</p>
        </div>
      `;
      postsContainer.innerHTML += postCard;
    });
  }

  // Load posts on page load
  window.addEventListener("DOMContentLoaded", loadPosts);
</script>

 </body>
</html>
